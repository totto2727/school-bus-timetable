{"version":3,"sources":["BusTimetable.tsx","App.tsx","reportWebVitals.ts","Theme.tsx","index.tsx"],"names":["valueFormatter","params","date","value","undefined","getHours","toString","padStart","getMinutes","Remarks","props","useState","open","setOpen","remarks","Button","variant","color","onClick","Dialog","onClose","Paper","style","whiteSpace","width","height","fontSize","minWidth","minHeight","display","justifyContent","alignItems","lineHeight","columns","headerName","field","hide","type","flex","align","headerAlign","renderCell","stringToTime","str","Date","BusTimetable","timetable","setTimetable","useEffect","axios","get","direction","then","res","data","values","map","v","id","start","via1","via2","goal","console","log","JSON","stringify","title","rows","autoPageSize","autoHeight","App","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","theme","createMuiTheme","palette","primary","main","purple","secondary","green","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d5269290.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {DataGrid, GridColDef, GridValueFormatterParams} from \"@material-ui/data-grid\";\r\nimport {\r\n\r\n    Button, Dialog, Paper,\r\n\r\n\r\n} from \"@material-ui/core\";\r\n\r\n\r\ntype Direction = \"outward\" | \"homeward\";\r\n\r\ntype TimetableSlot = {\r\n    start: string,\r\n    via1: string,\r\n    via2: string,\r\n    goal: string,\r\n    remarks: string\r\n}\r\n\r\ntype TimetableItem = {\r\n    id: number,\r\n    start: Date | undefined,\r\n    via1: Date | undefined,\r\n    via2: Date | undefined,\r\n    goal: Date | undefined,\r\n    remarks: string\r\n}\r\n\r\ntype GasResponse = {\r\n    values: TimetableSlot[]\r\n}\r\n\r\nconst valueFormatter = (params: GridValueFormatterParams) => {\r\n    const date = params.value as Date | undefined;\r\n    return date !== undefined ? `${date.getHours().toString().padStart(2, \"0\")}:${date.getMinutes().toString().padStart(2, \"0\")}` : date;\r\n};\r\n\r\nconst gasGetBusTimetable = \"https://script.google.com/macros/s/AKfycbyLqwd2q-JoOBW3OIRH3oCMR0WhOKxICeBn9vMFQvRx2JE6J_TMxxyPhp6EEph6GFNA/exec\";\r\n\r\nconst Remarks: React.FC<{ remarks: string }> = props => {\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClickClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        props.remarks !== \"\"\r\n            ? <div>\r\n                <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\r\n                    備考\r\n                </Button>\r\n                <Dialog open={open} onClose={handleClickClose}>\r\n                    <Paper style={{\r\n                        whiteSpace: \"pre-wrap\",\r\n                        width: \"auto\",\r\n                        height: \"auto\",\r\n                        fontSize: \"2rem\",\r\n                        minWidth: 300,\r\n                        minHeight: 300,\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        alignItems: \"center\",\r\n                        lineHeight:\"2em\"\r\n                    }}>{props.remarks}</Paper>\r\n                </Dialog>\r\n            </div>\r\n\r\n            : <></>\r\n    )\r\n}\r\n\r\nconst columns: GridColDef[] = [\r\n    {headerName: \"ID\", field: \"id\", hide: true, type: \"number\"},\r\n    {headerName: \"発車\", field: \"start\", flex: 2, valueFormatter, align: \"center\", headerAlign: \"center\"},\r\n    {headerName: \"経由1\", field: \"via1\", flex: 2, valueFormatter, align: \"center\", headerAlign: \"center\"},\r\n    {headerName: \"経由2\", field: \"via2\", flex: 2, valueFormatter, align: \"center\", headerAlign: \"center\"},\r\n    {headerName: \"終点\", field: \"goal\", flex: 2, valueFormatter, align: \"center\", headerAlign: \"center\"},\r\n    {\r\n        headerName: \"備考\",\r\n        field: \"remarks\",\r\n        flex: 15,\r\n        renderCell: params => <Remarks remarks={params.value as string}/>\r\n    }\r\n]\r\n\r\nconst stringToTime = (str: string) => str !== \"\" ? new Date(str) : undefined\r\n\r\nconst makeTimetableItemList: (slot: TimetableSlot[]) => TimetableItem[] = slot =>\r\n    slot.map((v, id) => {\r\n        const {start, via1, via2, goal, ...data} = v;\r\n        return {\r\n            ...data,\r\n            id,\r\n            start: stringToTime(start),\r\n            via1: stringToTime(via1),\r\n            via2: stringToTime(via2),\r\n            goal: stringToTime(goal),\r\n        }\r\n    })\r\n\r\nexport const BusTimetable: React.FC<{ direction: Direction, title: string }> = props => {\r\n    const [timetable, setTimetable] = useState<TimetableItem[]>([]);\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get<GasResponse>(`${gasGetBusTimetable}?direction=${props.direction}`)\r\n            .then(res => {\r\n                setTimetable(makeTimetableItemList(res.data.values));\r\n                console.log(JSON.stringify(res.data));\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <h2>{props.title}</h2>\r\n            <DataGrid rows={timetable} columns={columns} autoPageSize autoHeight/>\r\n        </div>\r\n    )\r\n}","import React from 'react';\nimport {BusTimetable} from \"./BusTimetable\";\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <body>\n                <BusTimetable direction={\"outward\"} title={\"駅->学校\"}/>\n                <BusTimetable direction={\"homeward\"} title={\"学校->駅\"}/>\n            </body>\n        </div>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {createMuiTheme} from \"@material-ui/core\";\r\nimport {green, purple} from \"@material-ui/core/colors\";\r\n\r\nexport const theme=createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            main: purple[500],\r\n        },\r\n        secondary: {\r\n            main: green[500],\r\n        },\r\n    },\r\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {MuiThemeProvider} from \"@material-ui/core\";\nimport {theme} from \"./Theme\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <MuiThemeProvider theme={theme}>\n            <App/>\n        </MuiThemeProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}